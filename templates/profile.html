{% extends "base.html" %}
{% block content %}
  <form method="post" class="grid gap-6 md:grid-cols-2">
    <section class="card space-y-3">
      <h2 class="text-lg font-semibold">Dettagli profilo</h2>
      <div><label class="label">Nome</label><input name="name" class="input" value="{{ settings.name }}" /></div>
      <div><label class="label">Ruolo</label><input name="role" class="input" value="{{ settings.role }}" /></div>
      <div><label class="label">Tono</label><input name="tone" class="input" value="{{ settings.tone }}" placeholder="Istituzionale, empatico, energico…" /></div>
      <div><label class="label">Emoji</label><input name="emoji" class="input" value="{{ settings.emoji }}" /></div>
    </section>

    <section class="card space-y-3">
      <h2 class="text-lg font-semibold">Connessione canali</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <div><label class="label">Facebook (URL pagina)</label><input name="facebook_url" class="input" value="{{ settings.social.facebook_url }}" placeholder="https://facebook.com/…" /></div>
        <div><label class="label">Instagram (username)</label><input name="instagram_username" class="input" value="{{ settings.social.instagram_username }}" placeholder="nomeutente" /></div>
        <div><label class="label">X (username)</label><input name="x_username" class="input" value="{{ settings.social.x_username }}" placeholder="nomeutente" /></div>
        <div><label class="label">Sito (URL)</label><input name="website_url" class="input" value="{{ settings.social.website_url }}" placeholder="https://…" /></div>
      </div>

      <div class="pt-2">
        <div class="label mb-2">Seleziona canali</div>
        <div class="grid grid-cols-2 gap-2">
          {% set L = {"facebook":"Facebook","instagram":"Instagram","x":"X (Twitter)","website":"Sito","press":"Stampa"} %}
          {% for key,label in L.items() %}
            <label class="flex items-center gap-2 text-sm">
              <input type="checkbox" name="channels" value="{{ key }}" class="checkbox" {% if key in settings.channels %}checked{% endif %} />
              <span>{{ label }}</span>
            </label>
          {% endfor %}
        </div>
      </div>

      <div class="flex gap-2 pt-2">
        <button class="btn-primary" type="submit">Salva profilo</button>
        <a href="/" class="btn-secondary">Annulla</a>
      </div>

      <div class="text-xs text-slate-500 pt-2">
        L'integrazione diretta (pubblicazione automatica) richiede i passaggi OAuth delle piattaforme: li aggiungeremo in seguito. Per ora salviamo i collegamenti/username per un accesso rapido.
      </div>
    </section>
  </form>
{% endblock %}
