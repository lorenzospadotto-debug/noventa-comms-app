{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold">Onboarding (4 passi)</h1>
<p class="text-gray-600">Compila una volta, poi si auto-ricorda.</p>

<form action="/save_onboarding" method="post" class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6" onsubmit="showOverlay()">
  <div>
    <label class="block">
      <span class="text-sm font-medium">Nome</span>
      <input type="text" name="first_name" value="{{ profile.first_name }}" class="mt-1 w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600">
    </label>
  </div>
  <div>
    <label class="block">
      <span class="text-sm font-medium">Cognome</span>
      <input type="text" name="last_name" value="{{ profile.last_name }}" class="mt-1 w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600">
    </label>
  </div>
  <div class="md:col-span-2">
    <label class="block">
      <span class="text-sm font-medium">Ruolo (es. Sindaco, Assessore)</span>
      <input type="text" name="role" value="{{ profile.role }}" class="mt-1 w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600">
    </label>
  </div>

  <div>
    <span class="text-sm font-medium">Toni</span>
    <div class="mt-2 grid grid-cols-2 gap-2">
      {% set tones = profile.tones or [] %}
      {% for t in ['Istituzionale','Empatico','Determinato','Tecnico'] %}
      <label class="flex items-center gap-2">
        <input type="checkbox" name="tones" value="{{ t }}" {% if t in tones %}checked{% endif %}>
        <span>{{ t }}</span>
      </label>
      {% endfor %}
    </div>
  </div>

  <div>
    <span class="text-sm font-medium">Canali</span>
    <div class="mt-2 grid grid-cols-2 gap-2">
      {% set channels = profile.channels or ['Social'] %}
      {% for c in ['Social','Sito','Stampa'] %}
      <label class="flex items-center gap-2">
        <input type="checkbox" name="channels" value="{{ c }}" {% if c in channels %}checked{% endif %}>
        <span>{{ c }}</span>
      </label>
      {% endfor %}
    </div>
  </div>

  <div class="md:col-span-2 flex gap-3">
    <button class="px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold">Salva e vai a “Upload & Genera”</button>
    <a href="/compose" class="px-4 py-2 rounded-lg border font-semibold">Salta</a>
  </div>
</form>
{% endblock %}
