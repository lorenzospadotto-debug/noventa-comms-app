{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Benvenuto! Completa il profilo</h1>
<form method="post" action="/save_onboarding" class="grid md:grid-cols-2 gap-6" onsubmit="showOverlay()">
  <div class="space-y-3">
    <label class="block"><span class="text-sm">Nome</span><input name="first_name" class="w-full border rounded p-2" value="{{ (profile or {}).get('first_name','') }}"></label>
    <label class="block"><span class="text-sm">Cognome</span><input name="last_name" class="w-full border rounded p-2" value="{{ (profile or {}).get('last_name','') }}"></label>
    <label class="block"><span class="text-sm">Ruolo</span><input name="role" class="w-full border rounded p-2" value="{{ (profile or {}).get('role','') }}"></label>
    <label class="block"><span class="text-sm">Ente</span><input name="ente" class="w-full border rounded p-2" value="{{ (profile or {}).get('ente','') }}"></label>
    <fieldset class="border rounded p-3">
      <legend class="text-sm">Seleziona alcuni toni</legend>
      {% for t in ["istituzionale","empatico","determinato","pragmatico","vicino alla popolazione"] %}
      <label class="block"><input type="checkbox" name="tones" value="{{ t }}"> {{ t }}</label>
      {% endfor %}
      <label class="block mt-2"><span class="text-sm">Altro</span><input name="tone_other" class="w-full border rounded p-2" placeholder="es. sindaco vicino alla popolazione"></label>
    </fieldset>
    <fieldset class="border rounded p-3">
      <legend class="text-sm">Canali</legend>
      <label class="block"><input type="checkbox" name="channels" value="Social" checked> Social</label>
      <label class="block"><input type="checkbox" name="channels" value="Sito"> Sito</label>
      <label class="block"><input type="checkbox" name="channels" value="Stampa"> Stampa</label>
    </fieldset>
    <button class="mt-2 px-4 py-2 text-white rounded" style="background:var(--primary)">Vai a Genera</button>
  </div>
</form>
{% endblock %}
