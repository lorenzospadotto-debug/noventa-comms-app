{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Blocco note</h1>

<form method="post" action="/notes/add" class="mb-6">
  <div class="grid md:grid-cols-3 gap-3">
    <input name="title" placeholder="Titolo" class="border rounded p-2">
    <textarea name="body" rows="2" placeholder="Scrivi qui..." class="border rounded p-2 md:col-span-2"></textarea>
  </div>
  <button class="mt-2 px-4 py-2 bg-primary text-white rounded" style="background:var(--primary)">Aggiungi</button>
</form>

<div class="space-y-3">
  {% for n in notes %}
  <div class="border rounded p-3 bg-card">
    <div class="text-xs text-slate-500">{{ n.ts }}</div>
    <div class="font-semibold">{{ n.title }}</div>
    <div class="whitespace-pre-wrap text-sm">{{ n.body }}</div>
    <form method="post" action="/notes/delete" class="mt-2">
      <input type="hidden" name="note_id" value="{{ n.id }}">
      <button class="px-2 py-1 border rounded">Elimina</button>
    </form>
  </div>
  {% else %}
  <div>Nessuna nota ancora.</div>
  {% endfor %}
</div>
{% endblock %}
