{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold">Blocco note</h1>
<p class="text-gray-600">Segnati idee, promemoria, numeri… rimangono sul dispositivo/istanza.</p>

<form method="post" action="/notes/add" class="mt-6 grid gap-3" onsubmit="showOverlay()">
  <input type="text" name="title" placeholder="Titolo (opzionale)" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600">
  <textarea name="body" rows="4" placeholder="Scrivi qui…" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600"></textarea>
  <div><button class="px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold">Aggiungi nota</button></div>
</form>

<div class="mt-8 space-y-3">
  {% if notes|length == 0 %}
  <div class="p-4 border rounded bg-white text-gray-600">Nessuna nota ancora.</div>
  {% endif %}
  {% for n in notes %}
  <div class="p-4 border rounded bg-white">
    <div class="text-sm text-gray-500">{{ n.ts }}</div>
    <div class="font-semibold">{{ n.title }}</div>
    <pre class="whitespace-pre-wrap text-sm mt-1">{{ n.body }}</pre>
    <form class="mt-2" method="post" action="/notes/delete" onsubmit="showOverlay()">
      <input type="hidden" name="note_id" value="{{ n.id }}">
      <button class="px-3 py-1 border rounded text-sm">Elimina</button>
    </form>
  </div>
  {% endfor %}
</div>
{% endblock %}
